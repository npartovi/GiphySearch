(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(64)},36:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),c=a.n(i),o=(a(36),a(3)),s=a(4),l=a(6),m=a(5),u=a(7),d=a(15),f=a(9),h=a(14),p=a.n(h),v=a(27),E=a.n(v),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).openModal=function(){return a.setState({modal:!0})},a.closeModal=function(){return a.setState({modal:!1})},a.favoriteAdded=function(e){a.props.updateFavorites(e),a.closeModal()},a.state={modal:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.gif,a=this.state.modal,n=t.source||"no source available",i=t.title||"no title available",c=t.url||"no url available",o=t.trending_datetime||"no trending_datetime available",s=t.username||"no username available",l=t.rating||"no rating available",m=t.images.fixed_height.url;return r.a.createElement("div",{className:"giphs-list-item"},r.a.createElement("img",{onClick:this.openModal,alt:"oops",src:m}),r.a.createElement("div",{className:"modal",style:a?{display:"block"}:{display:"none"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"content-container"},r.a.createElement("div",{className:"left-modal-container"},r.a.createElement("img",{src:m,alt:""})),r.a.createElement("div",{className:"right-modal-container"},r.a.createElement("div",{className:"list-wrap"},r.a.createElement("ul",{className:"list"},r.a.createElement("li",null,r.a.createElement("h1",null,i)),r.a.createElement("li",null,r.a.createElement("span",null,"Submitted by:")," ",s),r.a.createElement("li",null,r.a.createElement("span",null,"Rating:")," ",l),r.a.createElement("li",null,r.a.createElement("span",{id:"url-link"},"URL: "),r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:c},"Visit on Giphy")),r.a.createElement("li",null,r.a.createElement("span",{id:"source-link"},"Original Location: "),"no source available"===n?"No Source Available":r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:n},"Source")),r.a.createElement("li",null,r.a.createElement("span",null,"Time of Trending:")," ",r.a.createElement(E.a,{format:"MMM D YYYY HH:mm"},o))))),r.a.createElement("button",{className:"close-modal-button",onClick:this.closeModal},r.a.createElement("i",{className:"fa fa-times-circle","aria-hidden":"true"}))),r.a.createElement("div",{className:"buttons-container"},r.a.createElement("button",{className:"favorite-button",onClick:function(){return e.favoriteAdded(t)}},this.props.text,r.a.createElement("i",{className:"fa fa-heart","aria-hidden":"true"}))))))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).updateFavoritesList=function(e){var t=Object(d.a)(a.state.favorites);t.push(e),a.setState({favorites:t}),localStorage.setItem("favorites",JSON.stringify(t))},a.removeFavoritesList=function(e){var t=Object(d.a)(a.state.favorites);t=t.filter(function(t){return t!==e}),a.setState({favorites:t}),console.log(a.state.favorites),localStorage.setItem("favorites",JSON.stringify(t))},a.renderGiphs=function(){""===a.state.searchTerm?a.renderTrendingGiphs():a.renderSearchTermGiphs()},a.renderTrendingGiphs=function(){p.a.get("https://api.giphy.com/v1/gifs/trending?api_key=7BsS1QpFETQKbZQLn7Uu18yMeTr9OGBq&limit=".concat(a.state.limit,"&offset=").concat(a.state.offset)).then(function(e){var t=e.data.data;a.setState({giphs:a.state.giphs.concat(t),offset:25+a.state.offset})}).catch(function(e){console.error(e)})},a.renderSearchTermGiphs=function(){p.a.get("http://api.giphy.com/v1/gifs/search?api_key=7BsS1QpFETQKbZQLn7Uu18yMeTr9OGBq&q=".concat(a.state.searchTerm,"&limit=25&offset=").concat(a.state.offset)).then(function(e){var t=e.data.data;a.setState({giphs:a.state.giphs.concat(t),offset:25+a.state.offset})}).catch(function(e){console.error(e)})},a.trackScrolling=function(){var e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,t=document.body,n=document.documentElement,r=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);e+window.pageYOffset>=r-100&&a.renderGiphs(a.state.searchTerm)},a.state={giphs:[],searchTerm:"",offset:0,favorites:[],renderFavorites:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.favorites&&this.setState({favorites:JSON.parse(localStorage.favorites)}),window.addEventListener("scroll",this.trackScrolling)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.trackScrolling)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.actions.renderFavorites?this.setState({renderFavorites:!0}):this.setState({renderFavorites:!1}),e.actions.renderSearch!==this.state.searchTerm&&this.setState({searchTerm:e.actions.renderSearch,offset:0,giphs:[]},function(){t.renderGiphs()})}},{key:"componentWillMount",value:function(){this.renderGiphs(this.state.term)}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.giphs,i=a.favorites;return e=a.renderFavorites?i.map(function(e,a){return r.a.createElement(b,{text:"Remove Favorite",updateFavorites:t.removeFavoritesList,key:a,gif:e})}):n.map(function(e,a){return r.a.createElement(b,{text:"Add To Favorites",updateFavorites:t.updateFavoritesList,key:a,gif:e})}),r.a.createElement("div",{className:"giphs-list-container"},r.a.createElement("div",{className:"giphs-list-wrapper"},e))}}]),t}(n.Component),S=Object(f.b)(function(e){return{actions:e.actions}},null)(g),N=function(e){return function(t){t({type:"UPDATE_SEARCH_TERM",payload:e})}},O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState({term:e.target.value})},a.onSubmit=function(e){e.preventDefault(),a.props.updateSearchTerm(a.state.term)},a.state={term:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-bar-wrapper"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{id:"searchText",onChange:this.onChange,type:"search",placeholder:"Search for a Giphy..."}),r.a.createElement("span",{onClick:this.onSubmit,className:"input-addon"},r.a.createElement("i",{className:"fas fa-search fa-lg"}))))}}]),t}(n.Component),y=Object(f.b)(null,{updateSearchTerm:N})(O),j=a(28),T=a.n(j),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).renderTrending=function(e){e.preventDefault(),a.props.renderTrendingGifs()},a.renderFavorites=function(e){e.preventDefault(),a.props.renderFavoriteGifs()},a.renderRandom=function(e){e.preventDefault();var t=T()();a.props.updateSearchTerm(t)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar-container"},r.a.createElement("div",{className:"navbar-wrapper"},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"title-word"},"Giphy"),r.a.createElement("div",{className:"title-word"},"Search")),r.a.createElement("div",{className:"search-bar-container"},r.a.createElement(y,null)),r.a.createElement("div",{className:"links-bar-container"},r.a.createElement("a",{href:"/",onClick:this.renderTrending,className:"btn"},r.a.createElement("span",null,"Trending",r.a.createElement("i",{className:"fa fa-globe fa-lg","aria-hidden":"true"}))),r.a.createElement("a",{href:"/",onClick:this.renderFavorites,className:"btn"},r.a.createElement("span",null,"Favorites",r.a.createElement("i",{className:"fa fa-heart fa-lg","aria-hidden":"true"}))),r.a.createElement("a",{href:"/",onClick:this.renderRandom,className:"btn"},r.a.createElement("span",null,"Random",r.a.createElement("i",{className:"fas fa-random fa-lg"}))))))}}]),t}(n.Component),w=Object(f.b)(function(e){return{actions:e.actions}},{renderTrendingGifs:function(){return function(e){e({type:"RENDER_TRENDING_GIPHS"})}},renderFavoriteGifs:function(){return function(e){e({type:"RENDER_FAVORITE_GIPHS"})}},updateSearchTerm:N})(k),F=(a(62),a(8)),R=a(29),G=a(30),_=a(11),C={renderSearch:"",renderFavorites:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_TERM":return Object(_.a)({},e,{renderSearch:t.payload,renderFavorites:!1});case"RENDER_TRENDING_GIPHS":return Object(_.a)({},e,{renderSearch:"",renderFavorites:!1});case"RENDER_FAVORITE_GIPHS":return Object(_.a)({},e,{renderFavorites:!0,renderSearch:""});default:return e}},M=Object(F.combineReducers)({actions:H}),D=[G.a],A=Object(F.createStore)(M,{},Object(R.composeWithDevTools)(F.applyMiddleware.apply(void 0,D))),I=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{store:A},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"layout-container"},r.a.createElement(w,null),r.a.createElement(S,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.4846b581.chunk.js.map